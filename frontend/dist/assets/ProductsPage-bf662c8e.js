import{r,P as k,j as e,a as o}from"./index-4181ef86.js";import{g as c,P as p,a as P,S as T}from"./ScrollTrigger-ff5d125f.js";c.registerPlugin(T);function E(){const{products:s,loading:f,loadProducts:u}=r.useContext(k),[g,h]=r.useState(""),[b,d]=r.useState(null),w=r.useRef([]),n=r.useRef(null),l=r.useRef(null),[m,x]=r.useState({hours:0,minutes:0,seconds:0});r.useEffect(()=>{u()},[]),r.useEffect(()=>{w.current.forEach((t,a)=>{c.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,delay:a*.1,scrollTrigger:{trigger:t,start:"top 85%"}})}),n.current&&c.fromTo(n.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,scrollTrigger:{trigger:n.current,start:"top 80%"}}),l.current&&c.fromTo(l.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,scrollTrigger:{trigger:l.current,start:"top 80%"}})},[s]);const y=async()=>{u({q:g})};return r.useEffect(()=>{const t=new Date;t.setHours(t.getHours()+24);const a=setInterval(()=>{const i=t-new Date;if(i<=0){clearInterval(a),x({hours:0,minutes:0,seconds:0});return}const N=Math.floor(i/(1e3*60*60)%24),v=Math.floor(i/(1e3*60)%60),S=Math.floor(i/1e3%60);x({hours:N,minutes:v,seconds:S})},1e3);return()=>clearInterval(a)},[]),f?e("div",{className:"flex justify-center items-center min-h-[60vh] text-xl text-gray-600 animate-pulse",children:"Loading products..."}):o("div",{className:"bg-[#ffe5bd] rounded-lg border-2 border-red-900 text-gray-100 min-h-screen p-6 sm:p-10",children:[e("section",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 shadow-2xl text-white mb-12",children:o("div",{className:"relative max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6 py-12 px-6",children:[o("div",{className:"flex-1",children:[e("h1",{className:"text-4xl sm:text-5xl font-extrabold drop-shadow-md",children:"Browse Our Products"}),e("p",{className:"mt-3 text-lg opacity-90",children:"Explore a wide range of products handpicked for you."})]}),e("div",{className:"w-full md:w-[380px] bg-white/20 backdrop-blur-md rounded-2xl p-3 shadow-lg",children:o("div",{className:"flex gap-2",children:[e("input",{value:g,onChange:t=>h(t.target.value),placeholder:"Search products...",className:"w-full p-3 rounded-xl bg-white text-gray-800 placeholder-gray-500 focus:ring-2 focus:ring-pink-400 outline-none transition"}),e("button",{onClick:y,className:"px-5 py-2 bg-white text-indigo-600 rounded-xl font-semibold shadow hover:scale-105 transition-transform",children:"Search"})]})})]})}),o("section",{className:"max-w-6xl mx-auto mb-16",children:[e("h2",{className:"text-2xl font-bold mb-6 text-center text-pink-600",children:"All Products"}),s.length===0?e("p",{className:"text-center text-gray-400",children:"No products found."}):e("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:s.map((t,a)=>e("div",{className:"animate-fadeInUp",style:{animationDelay:`${a*.08}s`,animation:"fadeInUp 0.5s ease both"},children:e(p,{product:t,onView:d})},t._id))})]}),o("section",{className:"mb-16 max-w-6xl mx-auto",ref:n,children:[e("h2",{className:"text-2xl font-bold mb-6 text-center text-pink-600",children:"Featured Categories"}),e("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[{name:"Men's",color:"from-pink-500 to-purple-600"},{name:"Women's",color:"from-indigo-500 to-pink-500"},{name:"Kids",color:"from-green-400 to-blue-500"},{name:"Footwear",color:"from-yellow-400 to-orange-500"}].map(t=>e("div",{className:`bg-gradient-to-r ${t.color} p-6 rounded-3xl shadow-xl hover:scale-105 transition-transform text-center cursor-pointer`,children:e("h3",{className:"font-bold text-lg text-white",children:t.name})},t.name))})]}),o("section",{ref:l,className:"mb-16 max-w-6xl mx-auto rounded-3xl bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 p-10 text-center text-white shadow-xl",children:[e("h2",{className:"text-3xl font-bold mb-3",children:"Limited Time Offers"}),e("p",{className:"opacity-90 mb-6",children:"Grab these exclusive deals before they are gone! Countdown begins now."}),e("div",{className:"text-4xl font-mono mb-6 animate-pulse",children:`${String(m.hours).padStart(2,"0")} : ${String(m.minutes).padStart(2,"0")} : ${String(m.seconds).padStart(2,"0")}`}),e("button",{className:"bg-white text-indigo-600 font-semibold px-6 py-3 rounded-xl shadow hover:scale-105 transition-transform",children:"Shop Now"})]}),o("section",{className:"mb-16 max-w-6xl mx-auto",children:[e("h2",{className:"text-2xl font-bold mb-6 text-center text-pink-600",children:"Recommended for You"}),e("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:s.slice(0,4).map(t=>e(p,{product:t,onView:d},t._id))})]}),e(P,{product:b,onClose:()=>d(null)}),e("style",{jsx:!0,children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}export{E as default};
