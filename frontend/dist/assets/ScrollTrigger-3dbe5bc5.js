import{r as or,C as Jn,a as Je,j as me}from"./index-35597df2.js";function Hi({product:i,onView:e}){var f,h,D,w;const{addItem:n}=or.useContext(Jn),[t,r]=or.useState(!1),[o,l]=or.useState(null),a=async g=>{g.stopPropagation(),r(!0);try{const u=await n({productId:i._id,qty:1,product:i});u&&u.ok?l("Added"):l("Failed")}catch{l("Failed")}finally{r(!1),setTimeout(()=>l(null),1800)}};return Je("div",{onClick:()=>e&&e(i),className:"group relative cursor-pointer bg-white/80 backdrop-blur-lg rounded-3xl overflow-hidden border border-gray-200 hover:border-transparent hover:shadow-2xl transition-all duration-300",children:[Je("div",{className:"relative w-full h-56 overflow-hidden",children:[me("img",{src:((h=(f=i.images)==null?void 0:f[0])==null?void 0:h.url)||"https://via.placeholder.com/300",alt:i.title,className:"object-cover w-full h-full transform group-hover:scale-110 transition-transform duration-500"}),me("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),me("button",{onClick:g=>{g.stopPropagation(),e&&e(i)},className:"absolute bottom-3 right-3 text-xs font-semibold bg-white/90 text-gray-800 rounded-lg px-3 py-1 shadow hover:bg-indigo-600 hover:text-white transition-colors",children:"View"})]}),Je("div",{className:"p-4",children:[me("h4",{className:"font-bold text-lg text-gray-900 line-clamp-2 group-hover:text-indigo-600 transition-colors duration-300",children:i.title}),me("p",{className:"text-sm text-gray-500 mt-2 line-clamp-3",children:i.description}),Je("div",{className:"mt-4 flex items-center justify-between",children:[Je("div",{className:"font-extrabold text-gray-900 text-base",children:[(D=i.price)==null?void 0:D.amount," ",(w=i.price)==null?void 0:w.currency]}),Je("div",{className:"flex items-center gap-2",children:[me("button",{onClick:a,disabled:t,className:"px-4 py-1.5 text-sm font-medium rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md hover:shadow-lg disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-300",children:t?"...":"Add"}),o&&me("span",{className:`text-xs font-medium ${o==="Added"?"text-green-600":"text-red-500"}`,children:o})]})]})]}),me("div",{className:"absolute inset-0 rounded-3xl border border-transparent group-hover:border-indigo-400/60 group-hover:shadow-[0_0_15px_rgba(99,102,241,0.4)] transition-all duration-500 pointer-events-none"})]})}function Wi({product:i,onClose:e}){var f,h,D,w;const{addItem:n}=or.useContext(Jn),[t,r]=or.useState(!1),[o,l]=or.useState(null);if(!i)return null;const a=async()=>{r(!0);try{await n({productId:i._id,qty:1,product:i}),l("Added to cart")}catch{l("Failed to add to cart")}finally{r(!1),setTimeout(()=>l(null),2500)}};return me("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Je("div",{className:"bg-white max-w-2xl w-full p-6 rounded shadow",children:[Je("div",{className:"flex justify-between items-center",children:[me("h3",{className:"text-xl font-bold text-black",children:i.title}),me("button",{onClick:e,className:"text-gray-800",children:"Close"})]}),Je("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[me("div",{className:"bg-gray-100 flex items-center justify-center",children:me("img",{src:((h=(f=i.images)==null?void 0:f[0])==null?void 0:h.url)||"https://via.placeholder.com/400",alt:"",className:"max-h-80"})}),Je("div",{children:[me("p",{className:"text-gray-700",children:i.description}),Je("div",{className:"mt-4 font-bold text-red-900",children:[(D=i.price)==null?void 0:D.amount," ",(w=i.price)==null?void 0:w.currency]}),Je("div",{className:"mt-6 flex gap-3",children:[me("button",{onClick:a,disabled:t,className:"bg-green-600 disabled:opacity-60 text-white px-4 py-2 rounded",children:t?"Adding...":"Add to cart"}),me("button",{onClick:e,className:"bg-gray-500 px-4 py-2 rounded",children:"Close"})]}),o&&me("div",{className:"mt-3 text-sm text-green-700",children:o})]})]})]})})}function On(i,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function Ci(i,e,n){return e&&On(i.prototype,e),n&&On(i,n),i}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ve,qr,Ve,At,Ot,sr,Qn,Ht,yr,ei,wt,at,ti,ri=function(){return ve||typeof window<"u"&&(ve=window.gsap)&&ve.registerPlugin&&ve},ni=1,ir=[],M=[],pt=[],wr=Date.now,gn=function(e,n){return n},ki=function(){var e=yr.core,n=e.bridge||{},t=e._scrollers,r=e._proxies;t.push.apply(t,M),r.push.apply(r,pt),M=t,pt=r,gn=function(l,a){return n[l](a)}},Nt=function(e,n){return~pt.indexOf(e)&&pt[pt.indexOf(e)+1][n]},Cr=function(e){return!!~ei.indexOf(e)},Oe=function(e,n,t,r,o){return e.addEventListener(n,t,{passive:r!==!1,capture:!!o})},Ae=function(e,n,t,r){return e.removeEventListener(n,t,!!r)},Yr="scrollLeft",Fr="scrollTop",hn=function(){return wt&&wt.isPressed||M.cache++},Qr=function(e,n){var t=function r(o){if(o||o===0){ni&&(Ve.history.scrollRestoration="manual");var l=wt&&wt.isPressed;o=r.v=Math.round(o)||(wt&&wt.iOS?1:0),e(o),r.cacheID=M.cache,l&&gn("ss",o)}else(n||M.cache!==r.cacheID||gn("ref"))&&(r.cacheID=M.cache,r.v=e());return r.v+r.offset};return t.offset=0,e&&t},Ie={s:Yr,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Qr(function(i){return arguments.length?Ve.scrollTo(i,le.sc()):Ve.pageXOffset||At[Yr]||Ot[Yr]||sr[Yr]||0})},le={s:Fr,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ie,sc:Qr(function(i){return arguments.length?Ve.scrollTo(Ie.sc(),i):Ve.pageYOffset||At[Fr]||Ot[Fr]||sr[Fr]||0})},Be=function(e,n){return(n&&n._ctx&&n._ctx.selector||ve.utils.toArray)(e)[0]||(typeof e=="string"&&ve.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Si=function(e,n){for(var t=n.length;t--;)if(n[t]===e||n[t].contains(e))return!0;return!1},Yt=function(e,n){var t=n.s,r=n.sc;Cr(e)&&(e=At.scrollingElement||Ot);var o=M.indexOf(e),l=r===le.sc?1:2;!~o&&(o=M.push(e)-1),M[o+l]||Oe(e,"scroll",hn);var a=M[o+l],f=a||(M[o+l]=Qr(Nt(e,t),!0)||(Cr(e)?r:Qr(function(h){return arguments.length?e[t]=h:e[t]})));return f.target=e,a||(f.smooth=ve.getProperty(e,"scrollBehavior")==="smooth"),f},_n=function(e,n,t){var r=e,o=e,l=wr(),a=l,f=n||50,h=Math.max(500,f*3),D=function(v,$){var z=wr();$||z-l>f?(o=r,r=v,a=l,l=z):t?r+=v:r=o+(v-o)/(z-a)*(l-a)},w=function(){o=r=t?0:r,a=l=0},g=function(v){var $=a,z=o,ne=wr();return(v||v===0)&&v!==r&&D(v),l===a||ne-a>h?0:(r+(t?z:-z))/((t?ne:l)-$)*1e3};return{update:D,reset:w,getVelocity:g}},gr=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Nn=function(e){var n=Math.max.apply(Math,e),t=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(t)?n:t},ii=function(){yr=ve.core.globals().ScrollTrigger,yr&&yr.core&&ki()},oi=function(e){return ve=e||ri(),!qr&&ve&&typeof document<"u"&&document.body&&(Ve=window,At=document,Ot=At.documentElement,sr=At.body,ei=[Ve,At,Ot,sr],ve.utils.clamp,ti=ve.core.context||function(){},Ht="onpointerenter"in sr?"pointer":"mouse",Qn=Z.isTouch=Ve.matchMedia&&Ve.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ve||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,at=Z.eventTypes=("ontouchstart"in Ot?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ot?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ni=0},500),ii(),qr=1),qr};Ie.op=le;M.cache=0;var Z=function(){function i(n){this.init(n)}var e=i.prototype;return e.init=function(t){qr||oi(ve)||console.warn("Please gsap.registerPlugin(Observer)"),yr||ii();var r=t.tolerance,o=t.dragMinimum,l=t.type,a=t.target,f=t.lineHeight,h=t.debounce,D=t.preventDefault,w=t.onStop,g=t.onStopDelay,u=t.ignore,v=t.wheelSpeed,$=t.event,z=t.onDragStart,ne=t.onDragEnd,W=t.onDrag,ge=t.onPress,T=t.onRelease,Ke=t.onRight,B=t.onLeft,y=t.onUp,Pe=t.onDown,Le=t.onChangeX,_=t.onChangeY,ce=t.onChange,b=t.onToggleX,gt=t.onToggleY,ie=t.onHover,Ee=t.onHoverEnd,Me=t.onMove,I=t.ignoreCheck,J=t.isNormalizer,Q=t.onGestureStart,s=t.onGestureEnd,oe=t.onWheel,Ft=t.onEnable,kt=t.onDisable,je=t.onClick,ht=t.scrollSpeed,xe=t.capture,ee=t.allowClicks,De=t.lockAxis,be=t.onLockAxis;this.target=a=Be(a)||Ot,this.vars=t,u&&(u=ve.utils.toArray(u)),r=r||1e-9,o=o||0,v=v||1,ht=ht||1,l=l||"wheel,touch,pointer",h=h!==!1,f||(f=parseFloat(Ve.getComputedStyle(sr).lineHeight)||22);var St,Re,ze,N,V,Xe,He,c=this,We=0,_t=0,Tt=t.passive||!D&&t.passive!==!1,U=Yt(a,Ie),mt=Yt(a,le),Pt=U(),It=mt(),ue=~l.indexOf("touch")&&!~l.indexOf("pointer")&&at[0]==="pointerdown",Et=Cr(a),K=a.ownerDocument||At,rt=[0,0,0],Ze=[0,0,0],vt=0,ur=function(){return vt=wr()},te=function(x,Y){return(c.event=x)&&u&&Si(x.target,u)||Y&&ue&&x.pointerType!=="touch"||I&&I(x,Y)},Ar=function(){c._vx.reset(),c._vy.reset(),Re.pause(),w&&w(c)},xt=function(){var x=c.deltaX=Nn(rt),Y=c.deltaY=Nn(Ze),d=Math.abs(x)>=r,C=Math.abs(Y)>=r;ce&&(d||C)&&ce(c,x,Y,rt,Ze),d&&(Ke&&c.deltaX>0&&Ke(c),B&&c.deltaX<0&&B(c),Le&&Le(c),b&&c.deltaX<0!=We<0&&b(c),We=c.deltaX,rt[0]=rt[1]=rt[2]=0),C&&(Pe&&c.deltaY>0&&Pe(c),y&&c.deltaY<0&&y(c),_&&_(c),gt&&c.deltaY<0!=_t<0&&gt(c),_t=c.deltaY,Ze[0]=Ze[1]=Ze[2]=0),(N||ze)&&(Me&&Me(c),ze&&(z&&ze===1&&z(c),W&&W(c),ze=0),N=!1),Xe&&!(Xe=!1)&&be&&be(c),V&&(oe(c),V=!1),St=0},Zt=function(x,Y,d){rt[d]+=x,Ze[d]+=Y,c._vx.update(x),c._vy.update(Y),h?St||(St=requestAnimationFrame(xt)):xt()},Jt=function(x,Y){De&&!He&&(c.axis=He=Math.abs(x)>Math.abs(Y)?"x":"y",Xe=!0),He!=="y"&&(rt[2]+=x,c._vx.update(x,!0)),He!=="x"&&(Ze[2]+=Y,c._vy.update(Y,!0)),h?St||(St=requestAnimationFrame(xt)):xt()},Mt=function(x){if(!te(x,1)){x=gr(x,D);var Y=x.clientX,d=x.clientY,C=Y-c.x,m=d-c.y,k=c.isDragging;c.x=Y,c.y=d,(k||(C||m)&&(Math.abs(c.startX-Y)>=o||Math.abs(c.startY-d)>=o))&&(ze=k?2:1,k||(c.isDragging=!0),Jt(C,m))}},Lt=c.onPress=function(S){te(S,1)||S&&S.button||(c.axis=He=null,Re.pause(),c.isPressed=!0,S=gr(S),We=_t=0,c.startX=c.x=S.clientX,c.startY=c.y=S.clientY,c._vx.reset(),c._vy.reset(),Oe(J?a:K,at[1],Mt,Tt,!0),c.deltaX=c.deltaY=0,ge&&ge(c))},R=c.onRelease=function(S){if(!te(S,1)){Ae(J?a:K,at[1],Mt,!0);var x=!isNaN(c.y-c.startY),Y=c.isDragging,d=Y&&(Math.abs(c.x-c.startX)>3||Math.abs(c.y-c.startY)>3),C=gr(S);!d&&x&&(c._vx.reset(),c._vy.reset(),D&&ee&&ve.delayedCall(.08,function(){if(wr()-vt>300&&!S.defaultPrevented){if(S.target.click)S.target.click();else if(K.createEvent){var m=K.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,Ve,1,C.screenX,C.screenY,C.clientX,C.clientY,!1,!1,!1,!1,0,null),S.target.dispatchEvent(m)}}})),c.isDragging=c.isGesturing=c.isPressed=!1,w&&Y&&!J&&Re.restart(!0),ze&&xt(),ne&&Y&&ne(c),T&&T(c,d)}},zt=function(x){return x.touches&&x.touches.length>1&&(c.isGesturing=!0)&&Q(x,c.isDragging)},nt=function(){return(c.isGesturing=!1)||s(c)},it=function(x){if(!te(x)){var Y=U(),d=mt();Zt((Y-Pt)*ht,(d-It)*ht,1),Pt=Y,It=d,w&&Re.restart(!0)}},ot=function(x){if(!te(x)){x=gr(x,D),oe&&(V=!0);var Y=(x.deltaMode===1?f:x.deltaMode===2?Ve.innerHeight:1)*v;Zt(x.deltaX*Y,x.deltaY*Y,0),w&&!J&&Re.restart(!0)}},Xt=function(x){if(!te(x)){var Y=x.clientX,d=x.clientY,C=Y-c.x,m=d-c.y;c.x=Y,c.y=d,N=!0,w&&Re.restart(!0),(C||m)&&Jt(C,m)}},Qt=function(x){c.event=x,ie(c)},bt=function(x){c.event=x,Ee(c)},fr=function(x){return te(x)||gr(x,D)&&je(c)};Re=c._dc=ve.delayedCall(g||.25,Ar).pause(),c.deltaX=c.deltaY=0,c._vx=_n(0,50,!0),c._vy=_n(0,50,!0),c.scrollX=U,c.scrollY=mt,c.isDragging=c.isGesturing=c.isPressed=!1,ti(this),c.enable=function(S){return c.isEnabled||(Oe(Et?K:a,"scroll",hn),l.indexOf("scroll")>=0&&Oe(Et?K:a,"scroll",it,Tt,xe),l.indexOf("wheel")>=0&&Oe(a,"wheel",ot,Tt,xe),(l.indexOf("touch")>=0&&Qn||l.indexOf("pointer")>=0)&&(Oe(a,at[0],Lt,Tt,xe),Oe(K,at[2],R),Oe(K,at[3],R),ee&&Oe(a,"click",ur,!0,!0),je&&Oe(a,"click",fr),Q&&Oe(K,"gesturestart",zt),s&&Oe(K,"gestureend",nt),ie&&Oe(a,Ht+"enter",Qt),Ee&&Oe(a,Ht+"leave",bt),Me&&Oe(a,Ht+"move",Xt)),c.isEnabled=!0,c.isDragging=c.isGesturing=c.isPressed=N=ze=!1,c._vx.reset(),c._vy.reset(),Pt=U(),It=mt(),S&&S.type&&Lt(S),Ft&&Ft(c)),c},c.disable=function(){c.isEnabled&&(ir.filter(function(S){return S!==c&&Cr(S.target)}).length||Ae(Et?K:a,"scroll",hn),c.isPressed&&(c._vx.reset(),c._vy.reset(),Ae(J?a:K,at[1],Mt,!0)),Ae(Et?K:a,"scroll",it,xe),Ae(a,"wheel",ot,xe),Ae(a,at[0],Lt,xe),Ae(K,at[2],R),Ae(K,at[3],R),Ae(a,"click",ur,!0),Ae(a,"click",fr),Ae(K,"gesturestart",zt),Ae(K,"gestureend",nt),Ae(a,Ht+"enter",Qt),Ae(a,Ht+"leave",bt),Ae(a,Ht+"move",Xt),c.isEnabled=c.isPressed=c.isDragging=!1,kt&&kt(c))},c.kill=c.revert=function(){c.disable();var S=ir.indexOf(c);S>=0&&ir.splice(S,1),wt===c&&(wt=0)},ir.push(c),J&&Cr(a)&&(wt=c),c.enable($)},Ci(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i}();Z.version="3.13.0";Z.create=function(i){return new Z(i)};Z.register=oi;Z.getAll=function(){return ir.slice()};Z.getById=function(i){return ir.filter(function(e){return e.vars.id===i})[0]};ri()&&ve.registerPlugin(Z);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var p,rr,E,X,qe,F,kn,en,Dr,kr,_r,Ir,ke,on,mn,Ye,Yn,Fn,nr,si,an,ai,Ne,vn,li,ci,Rt,xn,Sn,ar,Tn,tn,bn,ln,Lr=1,Se=Date.now,cn=Se(),tt=0,mr=0,In=function(e,n,t){var r=Ue(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return t["_"+n+"Clamp"]=r,r?e.substr(6,e.length-7):e},Ln=function(e,n){return n&&(!Ue(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Ti=function i(){return mr&&requestAnimationFrame(i)},zn=function(){return on=1},Xn=function(){return on=0},ft=function(e){return e},vr=function(e){return Math.round(e*1e5)/1e5||0},ui=function(){return typeof window<"u"},fi=function(){return p||ui()&&(p=window.gsap)&&p.registerPlugin&&p},Vt=function(e){return!!~kn.indexOf(e)},di=function(e){return(e==="Height"?Tn:E["inner"+e])||qe["client"+e]||F["client"+e]},pi=function(e){return Nt(e,"getBoundingClientRect")||(Vt(e)?function(){return Jr.width=E.innerWidth,Jr.height=Tn,Jr}:function(){return yt(e)})},Pi=function(e,n,t){var r=t.d,o=t.d2,l=t.a;return(l=Nt(e,"getBoundingClientRect"))?function(){return l()[r]}:function(){return(n?di(o):e["client"+o])||0}},Ei=function(e,n){return!n||~pt.indexOf(e)?pi(e):function(){return Jr}},dt=function(e,n){var t=n.s,r=n.d2,o=n.d,l=n.a;return Math.max(0,(t="scroll"+r)&&(l=Nt(e,t))?l()-pi(e)()[o]:Vt(e)?(qe[t]||F[t])-di(r):e[t]-e["offset"+r])},zr=function(e,n){for(var t=0;t<nr.length;t+=3)(!n||~n.indexOf(nr[t+1]))&&e(nr[t],nr[t+1],nr[t+2])},Ue=function(e){return typeof e=="string"},Te=function(e){return typeof e=="function"},xr=function(e){return typeof e=="number"},Wt=function(e){return typeof e=="object"},hr=function(e,n,t){return e&&e.progress(n?0:1)&&t&&e.pause()},un=function(e,n){if(e.enabled){var t=e._ctx?e._ctx.add(function(){return n(e)}):n(e);t&&t.totalTime&&(e.callbackAnimation=t)}},er=Math.abs,gi="left",hi="top",Pn="right",En="bottom",$t="width",Ut="height",Sr="Right",Tr="Left",Pr="Top",Er="Bottom",re="padding",Qe="margin",cr="Width",Mn="Height",ae="px",et=function(e){return E.getComputedStyle(e)},Mi=function(e){var n=et(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},Bn=function(e,n){for(var t in n)t in e||(e[t]=n[t]);return e},yt=function(e,n){var t=n&&et(e)[mn]!=="matrix(1, 0, 0, 1, 0, 0)"&&p.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return t&&t.progress(0).kill(),r},rn=function(e,n){var t=n.d2;return e["offset"+t]||e["client"+t]||0},_i=function(e){var n=[],t=e.labels,r=e.duration(),o;for(o in t)n.push(t[o]/r);return n},Di=function(e){return function(n){return p.utils.snap(_i(e),n)}},Dn=function(e){var n=p.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort(function(r,o){return r-o});return t?function(r,o,l){l===void 0&&(l=.001);var a;if(!o)return n(r);if(o>0){for(r-=l,a=0;a<t.length;a++)if(t[a]>=r)return t[a];return t[a-1]}else for(a=t.length,r+=l;a--;)if(t[a]<=r)return t[a];return t[0]}:function(r,o,l){l===void 0&&(l=.001);var a=n(r);return!o||Math.abs(a-r)<l||a-r<0==o<0?a:n(o<0?r-e:r+e)}},Ri=function(e){return function(n,t){return Dn(_i(e))(n,t.direction)}},Xr=function(e,n,t,r){return t.split(",").forEach(function(o){return e(n,o,r)})},pe=function(e,n,t,r,o){return e.addEventListener(n,t,{passive:!r,capture:!!o})},de=function(e,n,t,r){return e.removeEventListener(n,t,!!r)},Br=function(e,n,t){t=t&&t.wheelHandler,t&&(e(n,"wheel",t),e(n,"touchmove",t))},Hn={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Hr={toggleActions:"play",anticipatePin:0},nn={top:0,left:0,center:.5,bottom:1,right:1},Vr=function(e,n){if(Ue(e)){var t=e.indexOf("="),r=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(r*=n/100),e=e.substr(0,t-1)),e=r+(e in nn?nn[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},Wr=function(e,n,t,r,o,l,a,f){var h=o.startColor,D=o.endColor,w=o.fontSize,g=o.indent,u=o.fontWeight,v=X.createElement("div"),$=Vt(t)||Nt(t,"pinType")==="fixed",z=e.indexOf("scroller")!==-1,ne=$?F:t,W=e.indexOf("start")!==-1,ge=W?h:D,T="border-color:"+ge+";font-size:"+w+";color:"+ge+";font-weight:"+u+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return T+="position:"+((z||f)&&$?"fixed;":"absolute;"),(z||f||!$)&&(T+=(r===le?Pn:En)+":"+(l+parseFloat(g))+"px;"),a&&(T+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),v._isStart=W,v.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),v.style.cssText=T,v.innerText=n||n===0?e+"-"+n:e,ne.children[0]?ne.insertBefore(v,ne.children[0]):ne.appendChild(v),v._offset=v["offset"+r.op.d2],Kr(v,0,r,W),v},Kr=function(e,n,t,r){var o={display:"block"},l=t[r?"os2":"p2"],a=t[r?"p2":"os2"];e._isFlipped=r,o[t.a+"Percent"]=r?-100:0,o[t.a]=r?"1px":0,o["border"+l+cr]=1,o["border"+a+cr]=0,o[t.p]=n+"px",p.set(e,o)},P=[],yn={},Rr,Wn=function(){return Se()-tt>34&&(Rr||(Rr=requestAnimationFrame(Ct)))},tr=function(){(!Ne||!Ne.isPressed||Ne.startX>F.clientWidth)&&(M.cache++,Ne?Rr||(Rr=requestAnimationFrame(Ct)):Ct(),tt||jt("scrollStart"),tt=Se())},fn=function(){ci=E.innerWidth,li=E.innerHeight},br=function(e){M.cache++,(e===!0||!ke&&!ai&&!X.fullscreenElement&&!X.webkitFullscreenElement&&(!vn||ci!==E.innerWidth||Math.abs(E.innerHeight-li)>E.innerHeight*.25))&&en.restart(!0)},Kt={},Ai=[],mi=function i(){return de(A,"scrollEnd",i)||Gt(!0)},jt=function(e){return Kt[e]&&Kt[e].map(function(n){return n()})||Ai},$e=[],vi=function(e){for(var n=0;n<$e.length;n+=5)(!e||$e[n+4]&&$e[n+4].query===e)&&($e[n].style.cssText=$e[n+1],$e[n].getBBox&&$e[n].setAttribute("transform",$e[n+2]||""),$e[n+3].uncache=1)},Rn=function(e,n){var t;for(Ye=0;Ye<P.length;Ye++)t=P[Ye],t&&(!n||t._ctx===n)&&(e?t.kill(1):t.revert(!0,!0));tn=!0,n&&vi(n),n||jt("revert")},xi=function(e,n){M.cache++,(n||!Fe)&&M.forEach(function(t){return Te(t)&&t.cacheID++&&(t.rec=0)}),Ue(e)&&(E.history.scrollRestoration=Sn=e)},Fe,qt=0,Gn,Oi=function(){if(Gn!==qt){var e=Gn=qt;requestAnimationFrame(function(){return e===qt&&Gt(!0)})}},bi=function(){F.appendChild(ar),Tn=!Ne&&ar.offsetHeight||E.innerHeight,F.removeChild(ar)},$n=function(e){return Dr(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Gt=function(e,n){if(qe=X.documentElement,F=X.body,kn=[E,X,qe,F],tt&&!e&&!tn){pe(A,"scrollEnd",mi);return}bi(),Fe=A.isRefreshing=!0,M.forEach(function(r){return Te(r)&&++r.cacheID&&(r.rec=r())});var t=jt("refreshInit");si&&A.sort(),n||Rn(),M.forEach(function(r){Te(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),P.slice(0).forEach(function(r){return r.refresh()}),tn=!1,P.forEach(function(r){if(r._subPinOffset&&r.pin){var o=r.vars.horizontal?"offsetWidth":"offsetHeight",l=r.pin[o];r.revert(!0,1),r.adjustPinSpacing(r.pin[o]-l),r.refresh()}}),bn=1,$n(!0),P.forEach(function(r){var o=dt(r.scroller,r._dir),l=r.vars.end==="max"||r._endClamp&&r.end>o,a=r._startClamp&&r.start>=o;(l||a)&&r.setPositions(a?o-1:r.start,l?Math.max(a?o:r.start+1,o):r.end,!0)}),$n(!1),bn=0,t.forEach(function(r){return r&&r.render&&r.render(-1)}),M.forEach(function(r){Te(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),xi(Sn,1),en.pause(),qt++,Fe=2,Ct(2),P.forEach(function(r){return Te(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Fe=A.isRefreshing=!1,jt("refresh")},wn=0,jr=1,Mr,Ct=function(e){if(e===2||!Fe&&!tn){A.isUpdating=!0,Mr&&Mr.update(0);var n=P.length,t=Se(),r=t-cn>=50,o=n&&P[0].scroll();if(jr=wn>o?-1:1,Fe||(wn=o),r&&(tt&&!on&&t-tt>200&&(tt=0,jt("scrollEnd")),_r=cn,cn=t),jr<0){for(Ye=n;Ye-- >0;)P[Ye]&&P[Ye].update(0,r);jr=1}else for(Ye=0;Ye<n;Ye++)P[Ye]&&P[Ye].update(0,r);A.isUpdating=!1}Rr=0},Cn=[gi,hi,En,Pn,Qe+Er,Qe+Sr,Qe+Pr,Qe+Tr,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Zr=Cn.concat([$t,Ut,"boxSizing","max"+cr,"max"+Mn,"position",Qe,re,re+Pr,re+Sr,re+Er,re+Tr]),Ni=function(e,n,t){lr(t);var r=e._gsap;if(r.spacerIsNative)lr(r.spacerState);else if(e._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(e,n),o.removeChild(n))}e._gsap.swappedIn=!1},dn=function(e,n,t,r){if(!e._gsap.swappedIn){for(var o=Cn.length,l=n.style,a=e.style,f;o--;)f=Cn[o],l[f]=t[f];l.position=t.position==="absolute"?"absolute":"relative",t.display==="inline"&&(l.display="inline-block"),a[En]=a[Pn]="auto",l.flexBasis=t.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[$t]=rn(e,Ie)+ae,l[Ut]=rn(e,le)+ae,l[re]=a[Qe]=a[hi]=a[gi]="0",lr(r),a[$t]=a["max"+cr]=t[$t],a[Ut]=a["max"+Mn]=t[Ut],a[re]=t[re],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},Yi=/([A-Z])/g,lr=function(e){if(e){var n=e.t.style,t=e.length,r=0,o,l;for((e.t._gsap||p.core.getCache(e.t)).uncache=1;r<t;r+=2)l=e[r+1],o=e[r],l?n[o]=l:n[o]&&n.removeProperty(o.replace(Yi,"-$1").toLowerCase())}},Gr=function(e){for(var n=Zr.length,t=e.style,r=[],o=0;o<n;o++)r.push(Zr[o],t[Zr[o]]);return r.t=e,r},Fi=function(e,n,t){for(var r=[],o=e.length,l=t?8:0,a;l<o;l+=2)a=e[l],r.push(a,a in n?n[a]:e[l+1]);return r.t=e.t,r},Jr={left:0,top:0},Un=function(e,n,t,r,o,l,a,f,h,D,w,g,u,v){Te(e)&&(e=e(f)),Ue(e)&&e.substr(0,3)==="max"&&(e=g+(e.charAt(4)==="="?Vr("0"+e.substr(3),t):0));var $=u?u.time():0,z,ne,W;if(u&&u.seek(0),isNaN(e)||(e=+e),xr(e))u&&(e=p.utils.mapRange(u.scrollTrigger.start,u.scrollTrigger.end,0,g,e)),a&&Kr(a,t,r,!0);else{Te(n)&&(n=n(f));var ge=(e||"0").split(" "),T,Ke,B,y;W=Be(n,f)||F,T=yt(W)||{},(!T||!T.left&&!T.top)&&et(W).display==="none"&&(y=W.style.display,W.style.display="block",T=yt(W),y?W.style.display=y:W.style.removeProperty("display")),Ke=Vr(ge[0],T[r.d]),B=Vr(ge[1]||"0",t),e=T[r.p]-h[r.p]-D+Ke+o-B,a&&Kr(a,B,r,t-B<20||a._isStart&&B>20),t-=t-B}if(v&&(f[v]=e||-.001,e<0&&(e=0)),l){var Pe=e+t,Le=l._isStart;z="scroll"+r.d2,Kr(l,Pe,r,Le&&Pe>20||!Le&&(w?Math.max(F[z],qe[z]):l.parentNode[z])<=Pe+1),w&&(h=yt(a),w&&(l.style[r.op.p]=h[r.op.p]-r.op.m-l._offset+ae))}return u&&W&&(z=yt(W),u.seek(g),ne=yt(W),u._caScrollDist=z[r.p]-ne[r.p],e=e/u._caScrollDist*g),u&&u.seek($),u?e:Math.round(e)},Ii=/(webkit|moz|length|cssText|inset)/i,qn=function(e,n,t,r){if(e.parentNode!==n){var o=e.style,l,a;if(n===F){e._stOrig=o.cssText,a=et(e);for(l in a)!+l&&!Ii.test(l)&&a[l]&&typeof o[l]=="string"&&l!=="0"&&(o[l]=a[l]);o.top=t,o.left=r}else o.cssText=e._stOrig;p.core.getCache(e).uncache=1,n.appendChild(e)}},yi=function(e,n,t){var r=n,o=r;return function(l){var a=Math.round(e());return a!==r&&a!==o&&Math.abs(a-r)>3&&Math.abs(a-o)>3&&(l=a,t&&t()),o=r,r=Math.round(l),r}},$r=function(e,n,t){var r={};r[n.p]="+="+t,p.set(e,r)},Vn=function(e,n){var t=Yt(e,n),r="_scroll"+n.p2,o=function l(a,f,h,D,w){var g=l.tween,u=f.onComplete,v={};h=h||t();var $=yi(t,h,function(){g.kill(),l.tween=0});return w=D&&w||0,D=D||a-h,g&&g.kill(),f[r]=a,f.inherit=!1,f.modifiers=v,v[r]=function(){return $(h+D*g.ratio+w*g.ratio*g.ratio)},f.onUpdate=function(){M.cache++,l.tween&&Ct()},f.onComplete=function(){l.tween=0,u&&u.call(g)},g=l.tween=p.to(e,f),g};return e[r]=t,t.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},pe(e,"wheel",t.wheelHandler),A.isTouch&&pe(e,"touchmove",t.wheelHandler),o},A=function(){function i(n,t){rr||i.register(p)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),xn(this),this.init(n,t)}var e=i.prototype;return e.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!mr){this.update=this.refresh=this.kill=ft;return}t=Bn(Ue(t)||xr(t)||t.nodeType?{trigger:t}:t,Hr);var o=t,l=o.onUpdate,a=o.toggleClass,f=o.id,h=o.onToggle,D=o.onRefresh,w=o.scrub,g=o.trigger,u=o.pin,v=o.pinSpacing,$=o.invalidateOnRefresh,z=o.anticipatePin,ne=o.onScrubComplete,W=o.onSnapComplete,ge=o.once,T=o.snap,Ke=o.pinReparent,B=o.pinSpacer,y=o.containerAnimation,Pe=o.fastScrollEnd,Le=o.preventOverlaps,_=t.horizontal||t.containerAnimation&&t.horizontal!==!1?Ie:le,ce=!w&&w!==0,b=Be(t.scroller||E),gt=p.core.getCache(b),ie=Vt(b),Ee=("pinType"in t?t.pinType:Nt(b,"pinType")||ie&&"fixed")==="fixed",Me=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],I=ce&&t.toggleActions.split(" "),J="markers"in t?t.markers:Hr.markers,Q=ie?0:parseFloat(et(b)["border"+_.p2+cr])||0,s=this,oe=t.onRefreshInit&&function(){return t.onRefreshInit(s)},Ft=Pi(b,ie,_),kt=Ei(b,ie),je=0,ht=0,xe=0,ee=Yt(b,_),De,be,St,Re,ze,N,V,Xe,He,c,We,_t,Tt,U,mt,Pt,It,ue,Et,K,rt,Ze,vt,ur,te,Ar,xt,Zt,Jt,Mt,Lt,R,zt,nt,it,ot,Xt,Qt,bt;if(s._startClamp=s._endClamp=!1,s._dir=_,z*=45,s.scroller=b,s.scroll=y?y.time.bind(y):ee,Re=ee(),s.vars=t,r=r||t.animation,"refreshPriority"in t&&(si=1,t.refreshPriority===-9999&&(Mr=s)),gt.tweenScroll=gt.tweenScroll||{top:Vn(b,le),left:Vn(b,Ie)},s.tweenTo=De=gt.tweenScroll[_.p],s.scrubDuration=function(d){zt=xr(d)&&d,zt?R?R.duration(d):R=p.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:zt,paused:!0,onComplete:function(){return ne&&ne(s)}}):(R&&R.progress(1).kill(),R=0)},r&&(r.vars.lazy=!1,r._initted&&!s.isReverted||r.vars.immediateRender!==!1&&t.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),s.animation=r.pause(),r.scrollTrigger=s,s.scrubDuration(w),Mt=0,f||(f=r.vars.id)),T&&((!Wt(T)||T.push)&&(T={snapTo:T}),"scrollBehavior"in F.style&&p.set(ie?[F,qe]:b,{scrollBehavior:"auto"}),M.forEach(function(d){return Te(d)&&d.target===(ie?X.scrollingElement||qe:b)&&(d.smooth=!1)}),St=Te(T.snapTo)?T.snapTo:T.snapTo==="labels"?Di(r):T.snapTo==="labelsDirectional"?Ri(r):T.directional!==!1?function(d,C){return Dn(T.snapTo)(d,Se()-ht<500?0:C.direction)}:p.utils.snap(T.snapTo),nt=T.duration||{min:.1,max:2},nt=Wt(nt)?kr(nt.min,nt.max):kr(nt,nt),it=p.delayedCall(T.delay||zt/2||.1,function(){var d=ee(),C=Se()-ht<500,m=De.tween;if((C||Math.abs(s.getVelocity())<10)&&!m&&!on&&je!==d){var k=(d-N)/U,fe=r&&!ce?r.totalProgress():k,O=C?0:(fe-Lt)/(Se()-_r)*1e3||0,j=p.utils.clamp(-k,1-k,er(O/2)*O/.185),ye=k+(T.inertia===!1?0:j),q,H,L=T,st=L.onStart,G=L.onInterrupt,Ge=L.onComplete;if(q=St(ye,s),xr(q)||(q=ye),H=Math.max(0,Math.round(N+q*U)),d<=V&&d>=N&&H!==d){if(m&&!m._initted&&m.data<=er(H-d))return;T.inertia===!1&&(j=q-k),De(H,{duration:nt(er(Math.max(er(ye-fe),er(q-fe))*.185/O/.05||0)),ease:T.ease||"power3",data:er(H-d),onInterrupt:function(){return it.restart(!0)&&G&&G(s)},onComplete:function(){s.update(),je=ee(),r&&!ce&&(R?R.resetTo("totalProgress",q,r._tTime/r._tDur):r.progress(q)),Mt=Lt=r&&!ce?r.totalProgress():s.progress,W&&W(s),Ge&&Ge(s)}},d,j*U,H-d-j*U),st&&st(s,De.tween)}}else s.isActive&&je!==d&&it.restart(!0)}).pause()),f&&(yn[f]=s),g=s.trigger=Be(g||u!==!0&&u),bt=g&&g._gsap&&g._gsap.stRevert,bt&&(bt=bt(s)),u=u===!0?g:Be(u),Ue(a)&&(a={targets:g,className:a}),u&&(v===!1||v===Qe||(v=!v&&u.parentNode&&u.parentNode.style&&et(u.parentNode).display==="flex"?!1:re),s.pin=u,be=p.core.getCache(u),be.spacer?mt=be.pinState:(B&&(B=Be(B),B&&!B.nodeType&&(B=B.current||B.nativeElement),be.spacerIsNative=!!B,B&&(be.spacerState=Gr(B))),be.spacer=ue=B||X.createElement("div"),ue.classList.add("pin-spacer"),f&&ue.classList.add("pin-spacer-"+f),be.pinState=mt=Gr(u)),t.force3D!==!1&&p.set(u,{force3D:!0}),s.spacer=ue=be.spacer,Jt=et(u),ur=Jt[v+_.os2],K=p.getProperty(u),rt=p.quickSetter(u,_.a,ae),dn(u,ue,Jt),It=Gr(u)),J){_t=Wt(J)?Bn(J,Hn):Hn,c=Wr("scroller-start",f,b,_,_t,0),We=Wr("scroller-end",f,b,_,_t,0,c),Et=c["offset"+_.op.d2];var fr=Be(Nt(b,"content")||b);Xe=this.markerStart=Wr("start",f,fr,_,_t,Et,0,y),He=this.markerEnd=Wr("end",f,fr,_,_t,Et,0,y),y&&(Qt=p.quickSetter([Xe,He],_.a,ae)),!Ee&&!(pt.length&&Nt(b,"fixedMarkers")===!0)&&(Mi(ie?F:b),p.set([c,We],{force3D:!0}),Ar=p.quickSetter(c,_.a,ae),Zt=p.quickSetter(We,_.a,ae))}if(y){var S=y.vars.onUpdate,x=y.vars.onUpdateParams;y.eventCallback("onUpdate",function(){s.update(0,0,1),S&&S.apply(y,x||[])})}if(s.previous=function(){return P[P.indexOf(s)-1]},s.next=function(){return P[P.indexOf(s)+1]},s.revert=function(d,C){if(!C)return s.kill(!0);var m=d!==!1||!s.enabled,k=ke;m!==s.isReverted&&(m&&(ot=Math.max(ee(),s.scroll.rec||0),xe=s.progress,Xt=r&&r.progress()),Xe&&[Xe,He,c,We].forEach(function(fe){return fe.style.display=m?"none":"block"}),m&&(ke=s,s.update(m)),u&&(!Ke||!s.isActive)&&(m?Ni(u,ue,mt):dn(u,ue,et(u),te)),m||s.update(m),ke=k,s.isReverted=m)},s.refresh=function(d,C,m,k){if(!((ke||!s.enabled)&&!C)){if(u&&d&&tt){pe(i,"scrollEnd",mi);return}!Fe&&oe&&oe(s),ke=s,De.tween&&!m&&(De.tween.kill(),De.tween=0),R&&R.pause(),$&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(Dt){return Dt.vars.immediateRender&&Dt.render(0,!0,!0)})),s.isReverted||s.revert(!0,!0),s._subPinOffset=!1;var fe=Ft(),O=kt(),j=y?y.duration():dt(b,_),ye=U<=.01||!U,q=0,H=k||0,L=Wt(m)?m.end:t.end,st=t.endTrigger||g,G=Wt(m)?m.start:t.start||(t.start===0||!g?0:u?"0 0":"0 100%"),Ge=s.pinnedContainer=t.pinnedContainer&&Be(t.pinnedContainer,s),lt=g&&Math.max(0,P.indexOf(s))||0,he=lt,_e,we,Bt,Or,Ce,se,ct,sn,An,dr,ut,pr,Nr;for(J&&Wt(m)&&(pr=p.getProperty(c,_.p),Nr=p.getProperty(We,_.p));he-- >0;)se=P[he],se.end||se.refresh(0,1)||(ke=s),ct=se.pin,ct&&(ct===g||ct===u||ct===Ge)&&!se.isReverted&&(dr||(dr=[]),dr.unshift(se),se.revert(!0,!0)),se!==P[he]&&(lt--,he--);for(Te(G)&&(G=G(s)),G=In(G,"start",s),N=Un(G,g,fe,_,ee(),Xe,c,s,O,Q,Ee,j,y,s._startClamp&&"_startClamp")||(u?-.001:0),Te(L)&&(L=L(s)),Ue(L)&&!L.indexOf("+=")&&(~L.indexOf(" ")?L=(Ue(G)?G.split(" ")[0]:"")+L:(q=Vr(L.substr(2),fe),L=Ue(G)?G:(y?p.utils.mapRange(0,y.duration(),y.scrollTrigger.start,y.scrollTrigger.end,N):N)+q,st=g)),L=In(L,"end",s),V=Math.max(N,Un(L||(st?"100% 0":j),st,fe,_,ee()+q,He,We,s,O,Q,Ee,j,y,s._endClamp&&"_endClamp"))||-.001,q=0,he=lt;he--;)se=P[he],ct=se.pin,ct&&se.start-se._pinPush<=N&&!y&&se.end>0&&(_e=se.end-(s._startClamp?Math.max(0,se.start):se.start),(ct===g&&se.start-se._pinPush<N||ct===Ge)&&isNaN(G)&&(q+=_e*(1-se.progress)),ct===u&&(H+=_e));if(N+=q,V+=q,s._startClamp&&(s._startClamp+=q),s._endClamp&&!Fe&&(s._endClamp=V||-.001,V=Math.min(V,dt(b,_))),U=V-N||(N-=.01)&&.001,ye&&(xe=p.utils.clamp(0,1,p.utils.normalize(N,V,ot))),s._pinPush=H,Xe&&q&&(_e={},_e[_.a]="+="+q,Ge&&(_e[_.p]="-="+ee()),p.set([Xe,He],_e)),u&&!(bn&&s.end>=dt(b,_)))_e=et(u),Or=_===le,Bt=ee(),Ze=parseFloat(K(_.a))+H,!j&&V>1&&(ut=(ie?X.scrollingElement||qe:b).style,ut={style:ut,value:ut["overflow"+_.a.toUpperCase()]},ie&&et(F)["overflow"+_.a.toUpperCase()]!=="scroll"&&(ut.style["overflow"+_.a.toUpperCase()]="scroll")),dn(u,ue,_e),It=Gr(u),we=yt(u,!0),sn=Ee&&Yt(b,Or?Ie:le)(),v?(te=[v+_.os2,U+H+ae],te.t=ue,he=v===re?rn(u,_)+U+H:0,he&&(te.push(_.d,he+ae),ue.style.flexBasis!=="auto"&&(ue.style.flexBasis=he+ae)),lr(te),Ge&&P.forEach(function(Dt){Dt.pin===Ge&&Dt.vars.pinSpacing!==!1&&(Dt._subPinOffset=!0)}),Ee&&ee(ot)):(he=rn(u,_),he&&ue.style.flexBasis!=="auto"&&(ue.style.flexBasis=he+ae)),Ee&&(Ce={top:we.top+(Or?Bt-N:sn)+ae,left:we.left+(Or?sn:Bt-N)+ae,boxSizing:"border-box",position:"fixed"},Ce[$t]=Ce["max"+cr]=Math.ceil(we.width)+ae,Ce[Ut]=Ce["max"+Mn]=Math.ceil(we.height)+ae,Ce[Qe]=Ce[Qe+Pr]=Ce[Qe+Sr]=Ce[Qe+Er]=Ce[Qe+Tr]="0",Ce[re]=_e[re],Ce[re+Pr]=_e[re+Pr],Ce[re+Sr]=_e[re+Sr],Ce[re+Er]=_e[re+Er],Ce[re+Tr]=_e[re+Tr],Pt=Fi(mt,Ce,Ke),Fe&&ee(0)),r?(An=r._initted,an(1),r.render(r.duration(),!0,!0),vt=K(_.a)-Ze+U+H,xt=Math.abs(U-vt)>1,Ee&&xt&&Pt.splice(Pt.length-2,2),r.render(0,!0,!0),An||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),an(0)):vt=U,ut&&(ut.value?ut.style["overflow"+_.a.toUpperCase()]=ut.value:ut.style.removeProperty("overflow-"+_.a));else if(g&&ee()&&!y)for(we=g.parentNode;we&&we!==F;)we._pinOffset&&(N-=we._pinOffset,V-=we._pinOffset),we=we.parentNode;dr&&dr.forEach(function(Dt){return Dt.revert(!1,!0)}),s.start=N,s.end=V,Re=ze=Fe?ot:ee(),!y&&!Fe&&(Re<ot&&ee(ot),s.scroll.rec=0),s.revert(!1,!0),ht=Se(),it&&(je=-1,it.restart(!0)),ke=0,r&&ce&&(r._initted||Xt)&&r.progress()!==Xt&&r.progress(Xt||0,!0).render(r.time(),!0,!0),(ye||xe!==s.progress||y||$||r&&!r._initted)&&(r&&!ce&&(r._initted||xe||r.vars.immediateRender!==!1)&&r.totalProgress(y&&N<-.001&&!xe?p.utils.normalize(N,V,0):xe,!0),s.progress=ye||(Re-N)/U===xe?0:xe),u&&v&&(ue._pinOffset=Math.round(s.progress*vt)),R&&R.invalidate(),isNaN(pr)||(pr-=p.getProperty(c,_.p),Nr-=p.getProperty(We,_.p),$r(c,_,pr),$r(Xe,_,pr-(k||0)),$r(We,_,Nr),$r(He,_,Nr-(k||0))),ye&&!Fe&&s.update(),D&&!Fe&&!Tt&&(Tt=!0,D(s),Tt=!1)}},s.getVelocity=function(){return(ee()-ze)/(Se()-_r)*1e3||0},s.endAnimation=function(){hr(s.callbackAnimation),r&&(R?R.progress(1):r.paused()?ce||hr(r,s.direction<0,1):hr(r,r.reversed()))},s.labelToScroll=function(d){return r&&r.labels&&(N||s.refresh()||N)+r.labels[d]/r.duration()*U||0},s.getTrailing=function(d){var C=P.indexOf(s),m=s.direction>0?P.slice(0,C).reverse():P.slice(C+1);return(Ue(d)?m.filter(function(k){return k.vars.preventOverlaps===d}):m).filter(function(k){return s.direction>0?k.end<=N:k.start>=V})},s.update=function(d,C,m){if(!(y&&!m&&!d)){var k=Fe===!0?ot:s.scroll(),fe=d?0:(k-N)/U,O=fe<0?0:fe>1?1:fe||0,j=s.progress,ye,q,H,L,st,G,Ge,lt;if(C&&(ze=Re,Re=y?ee():k,T&&(Lt=Mt,Mt=r&&!ce?r.totalProgress():O)),z&&u&&!ke&&!Lr&&tt&&(!O&&N<k+(k-ze)/(Se()-_r)*z?O=1e-4:O===1&&V>k+(k-ze)/(Se()-_r)*z&&(O=.9999)),O!==j&&s.enabled){if(ye=s.isActive=!!O&&O<1,q=!!j&&j<1,G=ye!==q,st=G||!!O!=!!j,s.direction=O>j?1:-1,s.progress=O,st&&!ke&&(H=O&&!j?0:O===1?1:j===1?2:3,ce&&(L=!G&&I[H+1]!=="none"&&I[H+1]||I[H],lt=r&&(L==="complete"||L==="reset"||L in r))),Le&&(G||lt)&&(lt||w||!r)&&(Te(Le)?Le(s):s.getTrailing(Le).forEach(function(Bt){return Bt.endAnimation()})),ce||(R&&!ke&&!Lr?(R._dp._time-R._start!==R._time&&R.render(R._dp._time-R._start),R.resetTo?R.resetTo("totalProgress",O,r._tTime/r._tDur):(R.vars.totalProgress=O,R.invalidate().restart())):r&&r.totalProgress(O,!!(ke&&(ht||d)))),u){if(d&&v&&(ue.style[v+_.os2]=ur),!Ee)rt(vr(Ze+vt*O));else if(st){if(Ge=!d&&O>j&&V+1>k&&k+1>=dt(b,_),Ke)if(!d&&(ye||Ge)){var he=yt(u,!0),_e=k-N;qn(u,F,he.top+(_===le?_e:0)+ae,he.left+(_===le?0:_e)+ae)}else qn(u,ue);lr(ye||Ge?Pt:It),xt&&O<1&&ye||rt(Ze+(O===1&&!Ge?vt:0))}}T&&!De.tween&&!ke&&!Lr&&it.restart(!0),a&&(G||ge&&O&&(O<1||!ln))&&Dr(a.targets).forEach(function(Bt){return Bt.classList[ye||ge?"add":"remove"](a.className)}),l&&!ce&&!d&&l(s),st&&!ke?(ce&&(lt&&(L==="complete"?r.pause().totalProgress(1):L==="reset"?r.restart(!0).pause():L==="restart"?r.restart(!0):r[L]()),l&&l(s)),(G||!ln)&&(h&&G&&un(s,h),Me[H]&&un(s,Me[H]),ge&&(O===1?s.kill(!1,1):Me[H]=0),G||(H=O===1?1:3,Me[H]&&un(s,Me[H]))),Pe&&!ye&&Math.abs(s.getVelocity())>(xr(Pe)?Pe:2500)&&(hr(s.callbackAnimation),R?R.progress(1):hr(r,L==="reverse"?1:!O,1))):ce&&l&&!ke&&l(s)}if(Zt){var we=y?k/y.duration()*(y._caScrollDist||0):k;Ar(we+(c._isFlipped?1:0)),Zt(we)}Qt&&Qt(-k/y.duration()*(y._caScrollDist||0))}},s.enable=function(d,C){s.enabled||(s.enabled=!0,pe(b,"resize",br),ie||pe(b,"scroll",tr),oe&&pe(i,"refreshInit",oe),d!==!1&&(s.progress=xe=0,Re=ze=je=ee()),C!==!1&&s.refresh())},s.getTween=function(d){return d&&De?De.tween:R},s.setPositions=function(d,C,m,k){if(y){var fe=y.scrollTrigger,O=y.duration(),j=fe.end-fe.start;d=fe.start+j*d/O,C=fe.start+j*C/O}s.refresh(!1,!1,{start:Ln(d,m&&!!s._startClamp),end:Ln(C,m&&!!s._endClamp)},k),s.update()},s.adjustPinSpacing=function(d){if(te&&d){var C=te.indexOf(_.d)+1;te[C]=parseFloat(te[C])+d+ae,te[1]=parseFloat(te[1])+d+ae,lr(te)}},s.disable=function(d,C){if(s.enabled&&(d!==!1&&s.revert(!0,!0),s.enabled=s.isActive=!1,C||R&&R.pause(),ot=0,be&&(be.uncache=1),oe&&de(i,"refreshInit",oe),it&&(it.pause(),De.tween&&De.tween.kill()&&(De.tween=0)),!ie)){for(var m=P.length;m--;)if(P[m].scroller===b&&P[m]!==s)return;de(b,"resize",br),ie||de(b,"scroll",tr)}},s.kill=function(d,C){s.disable(d,C),R&&!C&&R.kill(),f&&delete yn[f];var m=P.indexOf(s);m>=0&&P.splice(m,1),m===Ye&&jr>0&&Ye--,m=0,P.forEach(function(k){return k.scroller===s.scroller&&(m=1)}),m||Fe||(s.scroll.rec=0),r&&(r.scrollTrigger=null,d&&r.revert({kill:!1}),C||r.kill()),Xe&&[Xe,He,c,We].forEach(function(k){return k.parentNode&&k.parentNode.removeChild(k)}),Mr===s&&(Mr=0),u&&(be&&(be.uncache=1),m=0,P.forEach(function(k){return k.pin===u&&m++}),m||(be.spacer=0)),t.onKill&&t.onKill(s)},P.push(s),s.enable(!1,!1),bt&&bt(s),r&&r.add&&!U){var Y=s.update;s.update=function(){s.update=Y,M.cache++,N||V||s.refresh()},p.delayedCall(.01,s.update),U=.01,N=V=0}else s.refresh();u&&Oi()},i.register=function(t){return rr||(p=t||fi(),ui()&&window.document&&i.enable(),rr=mr),rr},i.defaults=function(t){if(t)for(var r in t)Hr[r]=t[r];return Hr},i.disable=function(t,r){mr=0,P.forEach(function(l){return l[r?"kill":"disable"](t)}),de(E,"wheel",tr),de(X,"scroll",tr),clearInterval(Ir),de(X,"touchcancel",ft),de(F,"touchstart",ft),Xr(de,X,"pointerdown,touchstart,mousedown",zn),Xr(de,X,"pointerup,touchend,mouseup",Xn),en.kill(),zr(de);for(var o=0;o<M.length;o+=3)Br(de,M[o],M[o+1]),Br(de,M[o],M[o+2])},i.enable=function(){if(E=window,X=document,qe=X.documentElement,F=X.body,p&&(Dr=p.utils.toArray,kr=p.utils.clamp,xn=p.core.context||ft,an=p.core.suppressOverwrites||ft,Sn=E.history.scrollRestoration||"auto",wn=E.pageYOffset||0,p.core.globals("ScrollTrigger",i),F)){mr=1,ar=document.createElement("div"),ar.style.height="100vh",ar.style.position="absolute",bi(),Ti(),Z.register(p),i.isTouch=Z.isTouch,Rt=Z.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),vn=Z.isTouch===1,pe(E,"wheel",tr),kn=[E,X,qe,F],p.matchMedia?(i.matchMedia=function(h){var D=p.matchMedia(),w;for(w in h)D.add(w,h[w]);return D},p.addEventListener("matchMediaInit",function(){return Rn()}),p.addEventListener("matchMediaRevert",function(){return vi()}),p.addEventListener("matchMedia",function(){Gt(0,1),jt("matchMedia")}),p.matchMedia().add("(orientation: portrait)",function(){return fn(),fn})):console.warn("Requires GSAP 3.11.0 or later"),fn(),pe(X,"scroll",tr);var t=F.hasAttribute("style"),r=F.style,o=r.borderTopStyle,l=p.core.Animation.prototype,a,f;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",a=yt(F),le.m=Math.round(a.top+le.sc())||0,Ie.m=Math.round(a.left+Ie.sc())||0,o?r.borderTopStyle=o:r.removeProperty("border-top-style"),t||(F.setAttribute("style",""),F.removeAttribute("style")),Ir=setInterval(Wn,250),p.delayedCall(.5,function(){return Lr=0}),pe(X,"touchcancel",ft),pe(F,"touchstart",ft),Xr(pe,X,"pointerdown,touchstart,mousedown",zn),Xr(pe,X,"pointerup,touchend,mouseup",Xn),mn=p.utils.checkPrefix("transform"),Zr.push(mn),rr=Se(),en=p.delayedCall(.2,Gt).pause(),nr=[X,"visibilitychange",function(){var h=E.innerWidth,D=E.innerHeight;X.hidden?(Yn=h,Fn=D):(Yn!==h||Fn!==D)&&br()},X,"DOMContentLoaded",Gt,E,"load",Gt,E,"resize",br],zr(pe),P.forEach(function(h){return h.enable(0,1)}),f=0;f<M.length;f+=3)Br(de,M[f],M[f+1]),Br(de,M[f],M[f+2])}},i.config=function(t){"limitCallbacks"in t&&(ln=!!t.limitCallbacks);var r=t.syncInterval;r&&clearInterval(Ir)||(Ir=r)&&setInterval(Wn,r),"ignoreMobileResize"in t&&(vn=i.isTouch===1&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(zr(de)||zr(pe,t.autoRefreshEvents||"none"),ai=(t.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(t,r){var o=Be(t),l=M.indexOf(o),a=Vt(o);~l&&M.splice(l,a?6:2),r&&(a?pt.unshift(E,r,F,r,qe,r):pt.unshift(o,r))},i.clearMatchMedia=function(t){P.forEach(function(r){return r._ctx&&r._ctx.query===t&&r._ctx.kill(!0,!0)})},i.isInViewport=function(t,r,o){var l=(Ue(t)?Be(t):t).getBoundingClientRect(),a=l[o?$t:Ut]*r||0;return o?l.right-a>0&&l.left+a<E.innerWidth:l.bottom-a>0&&l.top+a<E.innerHeight},i.positionInViewport=function(t,r,o){Ue(t)&&(t=Be(t));var l=t.getBoundingClientRect(),a=l[o?$t:Ut],f=r==null?a/2:r in nn?nn[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return o?(l.left+f)/E.innerWidth:(l.top+f)/E.innerHeight},i.killAll=function(t){if(P.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),t!==!0){var r=Kt.killAll||[];Kt={},r.forEach(function(o){return o()})}},i}();A.version="3.13.0";A.saveStyles=function(i){return i?Dr(i).forEach(function(e){if(e&&e.style){var n=$e.indexOf(e);n>=0&&$e.splice(n,5),$e.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),p.core.getCache(e),xn())}}):$e};A.revert=function(i,e){return Rn(!i,e)};A.create=function(i,e){return new A(i,e)};A.refresh=function(i){return i?br(!0):(rr||A.register())&&Gt(!0)};A.update=function(i){return++M.cache&&Ct(i===!0?2:0)};A.clearScrollMemory=xi;A.maxScroll=function(i,e){return dt(i,e?Ie:le)};A.getScrollFunc=function(i,e){return Yt(Be(i),e?Ie:le)};A.getById=function(i){return yn[i]};A.getAll=function(){return P.filter(function(i){return i.vars.id!=="ScrollSmoother"})};A.isScrolling=function(){return!!tt};A.snapDirectional=Dn;A.addEventListener=function(i,e){var n=Kt[i]||(Kt[i]=[]);~n.indexOf(e)||n.push(e)};A.removeEventListener=function(i,e){var n=Kt[i],t=n&&n.indexOf(e);t>=0&&n.splice(t,1)};A.batch=function(i,e){var n=[],t={},r=e.interval||.016,o=e.batchMax||1e9,l=function(h,D){var w=[],g=[],u=p.delayedCall(r,function(){D(w,g),w=[],g=[]}).pause();return function(v){w.length||u.restart(!0),w.push(v.trigger),g.push(v),o<=w.length&&u.progress(1)}},a;for(a in e)t[a]=a.substr(0,2)==="on"&&Te(e[a])&&a!=="onRefreshInit"?l(a,e[a]):e[a];return Te(o)&&(o=o(),pe(A,"refresh",function(){return o=e.batchMax()})),Dr(i).forEach(function(f){var h={};for(a in t)h[a]=t[a];h.trigger=f,n.push(A.create(h))}),n};var Kn=function(e,n,t,r){return n>r?e(r):n<0&&e(0),t>r?(r-n)/(t-n):t<0?n/(n-t):1},pn=function i(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Z.isTouch?" pinch-zoom":""):"none",e===qe&&i(F,n)},Ur={auto:1,scroll:1},Li=function(e){var n=e.event,t=e.target,r=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,l=o._gsap||p.core.getCache(o),a=Se(),f;if(!l._isScrollT||a-l._isScrollT>2e3){for(;o&&o!==F&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(Ur[(f=et(o)).overflowY]||Ur[f.overflowX]));)o=o.parentNode;l._isScroll=o&&o!==t&&!Vt(o)&&(Ur[(f=et(o)).overflowY]||Ur[f.overflowX]),l._isScrollT=a}(l._isScroll||r==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},wi=function(e,n,t,r){return Z.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:r=r&&Li,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return t&&pe(X,Z.eventTypes[0],Zn,!1,!0)},onDisable:function(){return de(X,Z.eventTypes[0],Zn,!0)}})},zi=/(input|label|select|textarea)/i,jn,Zn=function(e){var n=zi.test(e.target.tagName);(n||jn)&&(e._gsapAllow=!0,jn=n)},Xi=function(e){Wt(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,t=n.normalizeScrollX,r=n.momentum,o=n.allowNestedScroll,l=n.onRelease,a,f,h=Be(e.target)||qe,D=p.core.globals().ScrollSmoother,w=D&&D.get(),g=Rt&&(e.content&&Be(e.content)||w&&e.content!==!1&&!w.smooth()&&w.content()),u=Yt(h,le),v=Yt(h,Ie),$=1,z=(Z.isTouch&&E.visualViewport?E.visualViewport.scale*E.visualViewport.width:E.outerWidth)/E.innerWidth,ne=0,W=Te(r)?function(){return r(a)}:function(){return r||2.8},ge,T,Ke=wi(h,e.type,!0,o),B=function(){return T=!1},y=ft,Pe=ft,Le=function(){f=dt(h,le),Pe=kr(Rt?1:0,f),t&&(y=kr(0,dt(h,Ie))),ge=qt},_=function(){g._gsap.y=vr(parseFloat(g._gsap.y)+u.offset)+"px",g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(g._gsap.y)+", 0, 1)",u.offset=u.cacheID=0},ce=function(){if(T){requestAnimationFrame(B);var J=vr(a.deltaY/2),Q=Pe(u.v-J);if(g&&Q!==u.v+u.offset){u.offset=Q-u.v;var s=vr((parseFloat(g&&g._gsap.y)||0)-u.offset);g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+s+", 0, 1)",g._gsap.y=s+"px",u.cacheID=M.cache,Ct()}return!0}u.offset&&_(),T=!0},b,gt,ie,Ee,Me=function(){Le(),b.isActive()&&b.vars.scrollY>f&&(u()>f?b.progress(1)&&u(f):b.resetTo("scrollY",f))};return g&&p.set(g,{y:"+=0"}),e.ignoreCheck=function(I){return Rt&&I.type==="touchmove"&&ce()||$>1.05&&I.type!=="touchstart"||a.isGesturing||I.touches&&I.touches.length>1},e.onPress=function(){T=!1;var I=$;$=vr((E.visualViewport&&E.visualViewport.scale||1)/z),b.pause(),I!==$&&pn(h,$>1.01?!0:t?!1:"x"),gt=v(),ie=u(),Le(),ge=qt},e.onRelease=e.onGestureStart=function(I,J){if(u.offset&&_(),!J)Ee.restart(!0);else{M.cache++;var Q=W(),s,oe;t&&(s=v(),oe=s+Q*.05*-I.velocityX/.227,Q*=Kn(v,s,oe,dt(h,Ie)),b.vars.scrollX=y(oe)),s=u(),oe=s+Q*.05*-I.velocityY/.227,Q*=Kn(u,s,oe,dt(h,le)),b.vars.scrollY=Pe(oe),b.invalidate().duration(Q).play(.01),(Rt&&b.vars.scrollY>=f||s>=f-1)&&p.to({},{onUpdate:Me,duration:Q})}l&&l(I)},e.onWheel=function(){b._ts&&b.pause(),Se()-ne>1e3&&(ge=0,ne=Se())},e.onChange=function(I,J,Q,s,oe){if(qt!==ge&&Le(),J&&t&&v(y(s[2]===J?gt+(I.startX-I.x):v()+J-s[1])),Q){u.offset&&_();var Ft=oe[2]===Q,kt=Ft?ie+I.startY-I.y:u()+Q-oe[1],je=Pe(kt);Ft&&kt!==je&&(ie+=je-kt),u(je)}(Q||J)&&Ct()},e.onEnable=function(){pn(h,t?!1:"x"),A.addEventListener("refresh",Me),pe(E,"resize",Me),u.smooth&&(u.target.style.scrollBehavior="auto",u.smooth=v.smooth=!1),Ke.enable()},e.onDisable=function(){pn(h,!0),de(E,"resize",Me),A.removeEventListener("refresh",Me),Ke.kill()},e.lockAxis=e.lockAxis!==!1,a=new Z(e),a.iOS=Rt,Rt&&!u()&&u(1),Rt&&p.ticker.add(ft),Ee=a._dc,b=p.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:t?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:yi(u,u(),function(){return b.pause()})},onUpdate:Ct,onComplete:Ee.vars.onComplete}),a};A.sort=function(i){if(Te(i))return P.sort(i);var e=E.pageYOffset||0;return A.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+E.innerHeight}),P.sort(i||function(n,t){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+(t.vars.refreshPriority||0)*-1e6)})};A.observe=function(i){return new Z(i)};A.normalizeScroll=function(i){if(typeof i>"u")return Ne;if(i===!0&&Ne)return Ne.enable();if(i===!1){Ne&&Ne.kill(),Ne=i;return}var e=i instanceof Z?i:Xi(i);return Ne&&Ne.target===e.target&&Ne.kill(),Vt(e.target)&&(Ne=e),e};A.core={_getVelocityProp:_n,_inputObserver:wi,_scrollers:M,_proxies:pt,bridge:{ss:function(){tt||jt("scrollStart"),tt=Se()},ref:function(){return ke}}};fi()&&p.registerPlugin(A);export{Hi as P,A as S,Wi as a};
