import{r as o,A as B,g as c,a as n,j as t}from"./index-f7a2e862.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,l)=>l?l.toUpperCase():s.toLowerCase()),P=a=>{const r=T(a);return r.charAt(0).toUpperCase()+r.slice(1)},K=(...a)=>a.filter((r,s,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===s).join(" ").trim(),F=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=o.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:m="",children:i,iconNode:y,...p},d)=>o.createElement("svg",{ref:d,...Z,width:r,height:r,stroke:a,strokeWidth:l?Number(s)*24/Number(r):s,className:K("lucide",m),...!i&&!F(p)&&{"aria-hidden":"true"},...p},[...y.map(([w,u])=>o.createElement(w,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=(a,r)=>{const s=o.forwardRef(({className:l,...m},i)=>o.createElement(Y,{ref:i,iconNode:r,className:K(`lucide-${I(P(a))}`,`lucide-${a}`,l),...m}));return s.displayName=P(a),s};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],E=D("eye-off",q);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j=D("eye",G);function J(){const{login:a,register:r,logout:s,user:l}=o.useContext(B),[m,i]=o.useState(!1),[y,p]=o.useState(!1),[d,w]=o.useState(""),[u,L]=o.useState(""),[h,S]=o.useState(!1),[v,O]=o.useState("user"),[N,z]=o.useState(""),[C,W]=o.useState(""),[k,_]=o.useState(""),x=o.useRef(null),b=o.useRef(null),A=o.useRef(null);o.useEffect(()=>{m?c.to(x.current,{opacity:0,x:-50,duration:.5,ease:"power2.inOut",onComplete:()=>{c.set(x.current,{display:"none"}),c.set(b.current,{display:"block"}),c.fromTo(b.current,{opacity:0,x:50},{opacity:1,x:0,duration:.6,ease:"power2.inOut"})}}):c.to(b.current,{opacity:0,x:50,duration:.5,ease:"power2.inOut",onComplete:()=>{c.set(b.current,{display:"none"}),c.set(x.current,{display:"block"}),c.fromTo(x.current,{opacity:0,x:-50},{opacity:1,x:0,duration:.6,ease:"power2.inOut"})}})},[m]),o.useEffect(()=>{y&&c.fromTo(A.current,{opacity:0,scale:.9},{opacity:1,scale:1,duration:.3,ease:"power2.out"})},[y]);const $=()=>!d||!u?(alert("Please fill in all login fields."),!1):!0,M=()=>!N||!C||!k||!d||!u?(alert("Please fill in all registration fields."),!1):!0,R=async()=>{if($())try{await a({email:d,password:u,role:v}),alert("Logged in successfully!")}catch(e){console.error(e),alert("Login failed")}},f=async()=>{if(M())try{await r({username:N,email:d,password:u,fullName:{firstName:C,lastName:k},role:v}),alert("Registered and logged in!")}catch(e){console.error(e),alert("Registration failed")}},g=(e,U)=>{e.key==="Enter"&&U()};return n("div",{className:"h-[80vh] md:h-[90vh] flex items-center justify-center px-4 relative",children:[y&&t("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm",children:n("div",{ref:A,className:"bg-white rounded-2xl shadow-2xl p-6 w-[90%] max-w-sm text-center border border-gray-200",children:[t("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Are you sure you want to log out?"}),n("div",{className:"flex justify-center gap-4",children:[t("button",{onClick:()=>{s(),p(!1)},className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-semibold transition-all shadow-md",children:"Yes"}),t("button",{onClick:()=>p(!1),className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-semibold transition-all shadow-md",children:"No"})]})]})}),l?n("div",{className:"p-8 bg-white/70 backdrop-blur-xl rounded-2xl shadow-2xl w-full max-w-md text-center border border-white/40",children:[t("h2",{className:"text-3xl font-bold mb-2 text-indigo-700",children:"Welcome âœ¨"}),t("p",{className:"text-gray-700 font-medium",children:l.username||l.email}),n("p",{className:"text-sm text-gray-500 mb-6",children:["Role: ",l.role]}),t("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-red-500 to-pink-500 hover:opacity-90 text-white px-6 py-2 rounded-xl font-semibold shadow-md transition-all",children:"Logout"})]}):n("div",{className:"relative w-full max-w-md bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden border border-white/40",children:[n("div",{ref:x,className:"p-8",children:[t("h2",{className:"text-3xl font-extrabold text-center text-indigo-700 mb-6",children:"Welcome Back ðŸ‘‹"}),t("input",{type:"email",placeholder:"Email",value:d,onChange:e=>w(e.target.value),onKeyDown:e=>g(e,R),className:"border border-gray-300 rounded-lg px-4 py-2 w-full mb-3 focus:ring-2 focus:ring-indigo-400 outline-none"}),n("div",{className:"relative mb-3",children:[t("input",{type:h?"text":"password",placeholder:"Password",value:u,onChange:e=>L(e.target.value),onKeyDown:e=>g(e,R),className:"border border-gray-300 rounded-lg px-4 py-2 w-full pr-10 focus:ring-2 focus:ring-indigo-400 outline-none"}),t("button",{type:"button",onClick:()=>S(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-indigo-600",children:h?t(E,{size:20}):t(j,{size:20})})]}),n("select",{value:v,onChange:e=>O(e.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-full mb-4 focus:ring-2 focus:ring-indigo-400 outline-none",children:[t("option",{value:"user",children:"Customer"}),t("option",{value:"seller",children:"Seller"})]}),t("button",{onClick:R,className:"bg-gradient-to-r from-indigo-500 to-blue-600 hover:opacity-90 text-white w-full py-2 rounded-lg font-semibold transition-all shadow-md",children:"Login"}),n("p",{className:"text-center text-gray-500 mt-4 text-sm",children:["Donâ€™t have an account?"," ",t("button",{onClick:()=>i(!0),className:"text-indigo-600 font-semibold hover:underline",children:"Register"})]})]}),n("div",{ref:b,className:"p-8 hidden",children:[t("h2",{className:"text-3xl font-extrabold text-center text-indigo-700 mb-6",children:"Create Account âœ¨"}),t("input",{type:"text",placeholder:"Username",value:N,onChange:e=>z(e.target.value),onKeyDown:e=>g(e,f),className:"border border-gray-300 rounded-lg px-4 py-2 w-full mb-3 focus:ring-2 focus:ring-indigo-400 outline-none"}),n("div",{className:"grid grid-cols-2 gap-2",children:[t("input",{type:"text",placeholder:"First Name",value:C,onChange:e=>W(e.target.value),onKeyDown:e=>g(e,f),className:"border border-gray-300 rounded-lg px-4 py-2 w-full focus:ring-2 focus:ring-indigo-400 outline-none"}),t("input",{type:"text",placeholder:"Last Name",value:k,onChange:e=>_(e.target.value),onKeyDown:e=>g(e,f),className:"border border-gray-300 rounded-lg px-4 py-2 w-full focus:ring-2 focus:ring-indigo-400 outline-none"})]}),t("input",{type:"email",placeholder:"Email",value:d,onChange:e=>w(e.target.value),onKeyDown:e=>g(e,f),className:"border border-gray-300 rounded-lg px-4 py-2 w-full mt-3 mb-3 focus:ring-2 focus:ring-indigo-400 outline-none"}),n("div",{className:"relative mb-4",children:[t("input",{type:h?"text":"password",placeholder:"Password",value:u,onChange:e=>L(e.target.value),onKeyDown:e=>g(e,f),className:"border border-gray-300 rounded-lg px-4 py-2 w-full pr-10 focus:ring-2 focus:ring-indigo-400 outline-none"}),t("button",{type:"button",onClick:()=>S(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-indigo-600",children:h?t(E,{size:20}):t(j,{size:20})})]}),t("button",{onClick:f,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:opacity-90 text-white w-full py-2 rounded-lg font-semibold transition-all shadow-md",children:"Register"}),n("p",{className:"text-center text-gray-500 mt-4 text-sm",children:["Already have an account?"," ",t("button",{onClick:()=>i(!1),className:"text-indigo-600 font-semibold hover:underline",children:"Login"})]})]})]})]})}export{J as default};
